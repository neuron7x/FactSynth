[pytest]
addopts = -q -ra --cov --cov-report=term-missing --cov-report=xml --cov-fail-under=86
testpaths = tests fairness_tests
pythonpath = src
filterwarnings =
    error
    ignore::pytest.PytestUnraisableExceptionWarning
    ignore::ResourceWarning:hypothesis.internal.charmap
    ignore:.*retry_on_timeout.*:DeprecationWarning:redis.utils
    ignore:.*retry_on_timeout.*:DeprecationWarning:fakeredis.*
markers =
    anyio: async tests
    asyncio: asyncio-based tests
    smoke: stream smoke tests
    slow: lengthy streams/benchmarks
    fairness: control set fairness tests
    integration: tests that require external services like Redis
    httpx_mock: enable pytest-httpx fixture with custom options
